import pytest
from scheduler.helpers.main import main
from tests.scheduler.helpers.fuzz.fuzz_data import random_csv_data


fuzz_data = []
for i in range(1):
    data = random_csv_data(14)
    print(data)
    fuzz_data.append(data)


@pytest.mark.parametrize("lines", fuzz_data)
def test_main_with_csv_lines_and_bye(lines):
    schedule, badness, human_output = main(csv_lines=lines)
    # print("Schedule:", schedule)
    print("Badness:", badness)
    print("Human Output:", human_output)
    assert schedule is not None
    assert isinstance(badness, (int, float))
    assert isinstance(human_output, str)
    assert "Week" in human_output


[
    "Team0,20,2,0,0,1,30,1,1,21,0,20,21,1,1,20,0,3,20,21,0,20,1,10,2,20,30,21,0,12,40,0,12,40,11,31,1,4,0,0,0,1,3,40,10,3,10,10,10,5",
    "Team1,0,10,2,13,3,1,11,20,10,31,32,20,1,30,0,20,1,0,50,12,1,5,10,13,3,12,31,12,10,10,40,31,1,1,14,41,11,0,21,0,40,0,0,1,14,10,0,14,0",
    "Team2,1,2,1,20,10,20,1,41,21,0,30,10,40,10,0,21,0,0,0,14,5,12,0,2,0,1,0,0,0,0,32,10,1,0,14,11,4,30,20,2,0,0,14,11,20,40,2,20,11",
    "Team3,12,3,20,31,20,21,12,23,30,14,10,11,10,10,11,0,20,1,40,0,1,40,1,32,4,11,0,0,3,10,20,2,12,20,0,0,10,20,11,10,20,20,40,0,10,10,2,0,10",
    "Team4,22,0,41,2,20,0,1,10,21,40,20,40,0,0,20,41,11,20,1,10,12,40,50,2,1,32,41,0,1,20,22,0,30,11,3,10,0,21,10,1,0,20,11,2,1,31,12,11,3",
    "Team5,50,0,20,0,1,20,2,40,2,1,20,0,2,0,2,11,0,30,31,30,3,2,0,30,10,10,1,14,2,14,5,21,12,0,11,11,0,40,4,0,50,0,20,30,12,1,20,14,14",
    "Team6,21,2,30,10,2,41,1,21,30,0,0,20,21,12,10,31,10,40,10,0,2,0,13,0,21,40,11,2,1,20,1,10,11,3,41,1,0,11,40,1,11,21,10,2,10,20,3,11,12",
    "Team7,0,11,40,1,0,2,31,11,11,10,11,1,14,1,10,3,40,13,5,0,1,21,21,0,0,0,3,21,40,10,11,0,31,2,13,10,0,1,0,1,50,0,1,0,0,2,5,5,1",
]
